<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<button id="get">get</button>
	<table>
	</table>
</body>
<!-- <script src="jquery.min.js" type="text/javascript"></script> -->
<script type="text/javascript">
let person=[
	{
		id:"1",firstname:"Vlad", secondname:"Manakov", age:"27"
	},
	{
		id:"2",firstname:"Anna", secondname:"Agafonova", age:"22"
	}
];


console.log(person);
// let testArr=[1,2,3,4,5];
// console.log(testArr);
// testArr.splice(testArr.indexOf(3), 1);
// console.log(testArr);





document.getElementById("get").addEventListener("click",function(e){
	e.preventDefault();
	for (let i=0; i<person.length;i++){
		let tr = document.createElement("tr");
		document.querySelector("table").appendChild(tr);
		tr.id="ex"+i;
		let btn=document.createElement("button");
		btn.innerHTML="delete";

		btn.setAttribute("del",i);
		btn.className="delete";
		document.getElementById("ex"+i).appendChild(btn);
		
		for (let prop in person[i]) {
			let td=document.createElement("td");
			td.innerHTML=person[i][prop];
			
			document.getElementById("ex"+i).appendChild(td);
		}
	};

	document.querySelector(".delete").onclick=function(){
		console.log("click");

		let btnId=this.getAttribute("del");
		for (let i=0; i<person.length;i++) {
			if(btnId==i) {
				person.splice(i,1)
			}
		}

		console.log(person)
	};
});
</script>
</html>
